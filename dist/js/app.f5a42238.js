(function(t){function e(e){for(var r,o,s=e[0],c=e[1],l=e[2],p=0,f=[];p<s.length;p++)o=s[p],i[o]&&f.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2856:function(t,e,n){},3654:function(t,e,n){"use strict";var r=n("d1d6"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o=(n("5c0b"),n("2877")),s={},c=Object(o["a"])(s,i,a,!1,null,null,null);c.options.__file="App.vue";var l=c.exports,u=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t.isFirst?t._e():n("div",{staticClass:"first"},[n("label",{attrs:{for:"first"}},[t._v("集合写真を追加してください")]),n("input",{ref:"allTogether",attrs:{type:"file",id:"first"},on:{change:t.addFile}})]),t.isFirst?n("div",{staticClass:"second"},[n("label",{attrs:{for:"second"}},[t._v("来れなかった人の写真を追加してください")]),n("input",{ref:"file",attrs:{type:"file",id:"second"},on:{change:t.insertFile}})]):t._e(),n("div",{ref:"imageWrapper",staticClass:"image-wrapper"}),t.isSecond?n("div",{staticClass:"third"},[n("a",{attrs:{href:t.downloadUrl,download:"peaceful.png"}},[t._v("保存する")])]):t._e()])},f=[],h=(n("a481"),n("96cf"),n("3040")),d=n("2ef0"),g=n.n(d),m=n("0288"),v=n.n(m),w="https://kiyoshidainagon-node-red-app.mybluemix.net/vr/recognize",y={name:"home",data:function(){return{width:0,height:0,left:0,top:0,isFirst:!1,isSecond:!1,downloadUrl:null}},computed:{length:function(){return g.a.max([this.height,this.width])},center:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},position:function(){return" circle(".concat(this.length/2+20,"px at ").concat(this.center.x,"px ").concat(this.center.y,"px)")}},methods:{loadFile:function(t){return new Promise(function(e){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsDataURL(t)})},loadImage:function(t){return new Promise(function(e){var n=new Image;n.onload=function(){e(n)},n.src=t})},addFile:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var n,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.target.files,t.next=3,this.loadFile(n[0]);case 3:return r=t.sent,t.next=6,this.loadImage(r);case 6:i=t.sent,this.$refs.imageWrapper.appendChild(i),this.$refs.imageWrapper.style.width="".concat(i.width,"px"),this.isFirst=!0;case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),insertFile:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var n,r,i,a,o,s,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.target.files,t.next=3,this.loadFile(n[0]);case 3:return r=t.sent,t.next=6,this.loadImage(r);case 6:return i=t.sent,a=r.replace(/^.*,/,""),t.next=10,fetch(w,{method:"POST",body:a});case 10:return o=t.sent,t.next=13,o.json();case 13:return s=t.sent,this.width=s.face_location.width,this.height=s.face_location.height,this.left=s.face_location.left,this.top=s.face_location.top,i.classList.add("trim-image"),i.style.clipPath=this.position,i.style.top="".concat(-1*(this.center.y-this.height/2-30),"px"),i.style.left="".concat(-1*(this.center.x+this.width/2+30)+this.$refs.imageWrapper.clientWidth,"px"),i.style.transformOrigin="".concat(this.center.x+this.width/2,"px ").concat(this.center.y-this.height/2,"px"),i.style.transform="scale(0.5)",this.$refs.imageWrapper.appendChild(i),t.next=27,v()(this.$refs.imageWrapper);case 27:c=t.sent,this.downloadUrl=c.toDataURL("image/png"),this.isSecond=!0;case 30:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},x=y,b=(n("3654"),Object(o["a"])(x,p,f,!1,null,null,null));b.options.__file="Home.vue";var _=b.exports;r["a"].use(u["a"]);var O=new u["a"]({routes:[{path:"/",name:"home",component:_}]}),j=n("2f62");r["a"].use(j["a"]);var F=new j["a"].Store({state:{},mutations:{},actions:{}});r["a"].config.productionTip=!1,new r["a"]({router:O,store:F,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("2856"),i=n.n(r);i.a},d1d6:function(t,e,n){}});
//# sourceMappingURL=app.f5a42238.js.map